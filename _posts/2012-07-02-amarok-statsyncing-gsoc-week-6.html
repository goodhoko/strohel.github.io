---
layout: post
title: 'Amarok StatSyncing GSoC: week 6'
date: '2012-07-02T14:46:00.001+02:00'
author: strohel
tags:
- amarok
- gsoc
- kde
modified_time: '2012-07-02T14:46:21.684+02:00'
thumbnail: http://4.bp.blogspot.com/-ZXUu5_eu3FM/T_GLpe8GEAI/AAAAAAAAAGg/6zb9M9fYw_o/s72-c/amarok-statsyncing-week6-1.png
blogger_id: tag:blogger.com,1999:blog-4406477566892767740.post-5590126226354271745
blogger_orig_url: https://strohel.blogspot.com/2012/07/amarok-statsyncing-gsoc-week-6.html
---

Yes, I'm still working on <a href="http://www.google-melange.com/gsoc/project/google/gsoc2012/strohel/15001">my GSoC project about statistics synchronization in Amarok</a>. I've skipped one report, because last week I was busy with my university exam and real life. This week is another story, I've added synchronization preparation page (so that you can check what to sync), implemented automatic non-interactive synchronization and more.<br />
<br />

<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-ZXUu5_eu3FM/T_GLpe8GEAI/AAAAAAAAAGg/6zb9M9fYw_o/s1600/amarok-statsyncing-week6-1.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="/images/2012-07-02-amarok-statsyncing-gsoc-week-6-amarok-statsyncing-week6-1.png" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">New dialog this week: preparation for synchronization.</td></tr></tbody></table><br />
<b>What I've done this week:</b><br />
<ul><li>Factored Meta::Track::recentPlayCount() into capability, it didn't have much sense.</li><li>Added above page for the first step of the synchronization, added Back button to the second page.</li><li>Made Amarok remember syncing preferences: what fields and collections to synchronize. Local Collection and iPod collections are checked by default.</li><li>Implemented automatic unattended synchronization: checked (or enabled by default not-unchecked) collections will be synchronized automagically as soon as they appear or on start-up (with some delay to let them settle). If ratings conflicts are detected, it will fall-back to interactive mode and you can make the background job interactive as well.</li><li>Improved minor visual things (ratings are now nicely painted using stars) plus did some code clean-up so that first part of my GSoC approaches merge-ready state.</li></ul><b>Problems I've faced:</b><br />
<ul><li>I've fought with QTableView and sizeHint()s a bit, but I've won. :-)</li><li>The dialogs probably need usability and design review, sure I'll contact KDE Usability group before merging.</li></ul><b>What's next:</b><br />
<ul><li>According to my schedule, I've fulfilled week 5 and week 7 with this (funny). More importantly, first part of my project is roughly done by this week's advancements, and I'm quite happy with the results. I think that the unattended synchronization is particularly useful: you just tell Amarok what to synchronize once and it does everything else for you; that's what 99% users will be using most of the time in my opinion.</li><li>This week I'll finally start looking at Last.fm things. </li></ul>You can test my work by pulling and <a href="http://blogs.fsfe.org/myriam/archives/87">building</a> <a href="http://quickgit.kde.org/index.php?p=clones%2Famarok%2Flaitl%2Famarok.git&amp;a=shortlog&amp;h=refs/heads/gsoc">gsoc branch</a> of <a href="http://quickgit.kde.org/?p=clones%2Famarok%2Flaitl%2Famarok.git&amp;a=summary">my Amarok git repository clone</a>, it already works quite well! I also publish weekly diffs with more technical details on KDE's review board which may be a more convenient way to review my code and to comment on it: <a href="https://git.reviewboard.kde.org/r/105055/">week 1</a> <a href="https://git.reviewboard.kde.org/r/105100/">week 2</a> <a href="https://git.reviewboard.kde.org/r/105219/">week 3</a> <a href="https://git.reviewboard.kde.org/r/105280/">week 4</a> <a href="https://git.reviewboard.kde.org/r/105409/">week 6</a>